<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="hu" lang="hu">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Cookie</title>
		<script type="text/javascript">
			/*
			 name=value; expires=date;
			 koszones=Gergely; expires=lejárati dátum;

			 max 300 darab
			 max 4KB
			 max 20/szerver-domain
			 */
			function setCookie(name, value, expire) {
				//var cookieName = name+"=";
				//var cookieValue = escape(value)+";";
				var nowDate = new Date();
				nowDate.setDate(nowDate.getDate() + expire);
				var cookieExpire = (expire == null) ? "" : "expires=" + nowDate.toUTCString() + ";";
				//document.cookie = cookieName + cookieValue + cookieExpire;

				document.cookie = name + "=" + escape(value) + ";" + cookieExpire;
			}

			function getCookie(name) {
				var cookieValue;
				var cookieArray = new Array();
				cookieArray = document.cookie.split(";");
				for(var i = 0; i < cookieArray.length; i++) {
					if(cookieArray[i].indexOf(name) != -1) {
						cookieValue = cookieArray[i].substr(cookieArray[i].indexOf("=") + 1);
						return unescape(cookieValue);
					}
				}
			}

			function checkCookie() {

				var newUser = getCookie("koszones");
				if(newUser == null) {
					newUser = prompt("Kérlek add meg a neved!");
					if(newUser == "") {
						newUser = "Anonymus";
					}
					setCookie("koszones", newUser, 365);
					document.write("Megjegyeztem a neved " + newUser + ". Legközelebb emlékezni fogok rád.");
				} else {
					//document.write(document.cookie);
					document.write("Üdvözöllek " + newUser);
				}
			}
		</script>
	</head>
	<body onload="checkCookie();">
		
	</body>
</html>
